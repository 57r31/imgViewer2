<!DOCTYPE html>
<html>
	<head>
		<title>JQuery imgViewer2 Plugin - Zoom Test</title>
		
		<link rel="stylesheet" href="https://unpkg.com/leaflet@1.0.2/dist/leaflet.css" />
		<script type="text/javascript" src="https://unpkg.com/leaflet@1.0.2/dist/leaflet.js"></script>

		<script type="text/javascript" src="http://code.jquery.com/jquery-1.12.4.min.js"></script>
		<script type="text/javascript" src="http://code.jquery.com/ui/1.12.1/jquery-ui.min.js"></script>
		<script type="text/javascript" src="lib/imgViewer2.js"></script>
	</head>
	<body>
			<h1>JQuery Image Viewer Plugin - Zoom Test</h1>
				<div align="center">
					<img  id="image1" src="images/test_image.jpg" width="70%" />
					<br/>
					Maximum Zoom: 
					<input id="mxzoom" type="number" min="1"></input>
					<p> Click Position <span id="position"> </span></p>
				</div>
<script type="text/javascript">
;(function($) {
		var $img = $("#image1").imgViewer({
			zoomMax: 6,
			onClick: function( e, pos ) {
				var v = this.getView();
				$("#position").html("relx: " + pos.x + " rely: " + pos.y + " zoom: " + this.getZoom() );
			}
		});
		$("#image1").bind("imgvieweronready", function() {
			var img = $(this).data("wgm-imgViewer");
			img.setZoom(3).panTo(1,1);
		});
		var mxZoom = $img.imgViewer("option","zoomMax");
		if (mxZoom !== null) {
			$('#mxzoom').val(mxZoom);
		}
		$('#mxzoom').change( function(e) {
			$img.imgViewer("option", "zoomMax", $(this).val());
		});
		
})(jQuery);
</script>
		</body>
</html>
